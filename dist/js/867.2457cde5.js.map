{"version":3,"file":"js/867.2457cde5.js","mappings":"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","sources":["webpack://js-shop/./src/components/LoadingImg.vue","webpack://js-shop/./src/components/LoadingImg.vue?82c5","webpack://js-shop/./src/components/UserPageList.vue","webpack://js-shop/./src/components/UserPageList.vue?bb39","webpack://js-shop/./src/views/main/order/OrderList.vue","webpack://js-shop/./src/views/main/order/OrderList.vue?1c0a"],"sourcesContent":["<template>\r\n    <LoadingPage :active=\"loadStatus\" :opacity=\"0.9\" :background-color=\"`#fff`\">\r\n        <img\r\n        :src=\"img\"\r\n        alt=\"\"\r\n        style=\"width: 250px; height: 250px\"\r\n        />\r\n    </LoadingPage>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['loadStatus'],\r\n  data () {\r\n    return {\r\n      img: './assets/images/pokemon/pika.gif'\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./LoadingImg.vue?vue&type=template&id=f5350354\"\nimport script from \"./LoadingImg.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingImg.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user007\\\\Desktop\\\\project\\\\js-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <ul class=\"pagination\" id=\"pageid\">\r\n    <li class=\"page-item\" :class=\"{ disabled: !hasPage }\">\r\n      <a\r\n        class=\"page-link\"\r\n        href=\"#\"\r\n        :data-page=\"nowPage - 1\"\r\n        @click.prevent=\"pageChange(nowPage - 1)\"\r\n      >\r\n        上一頁\r\n      </a>\r\n    </li>\r\n    <li\r\n      class=\"page-item\"\r\n      v-for=\"item in num\"\r\n      :key=\"item\"\r\n      :class=\"{ active: item === nowPage }\"\r\n    >\r\n      <a\r\n        class=\"page-link\"\r\n        href=\"#\"\r\n        :data-page=\"item\"\r\n        @click.prevent=\"pageChange(item)\"\r\n      >\r\n        {{ item }}\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item\" :class=\"{ disabled: !hasNext }\">\r\n      <a\r\n        class=\"page-link\"\r\n        href=\"#\"\r\n        :data-page=\"nowPage + 1\"\r\n        @click.prevent=\"pageChange(nowPage + 1)\"\r\n      >\r\n        下一頁\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['num', 'nowPage'],\r\n  // emits: ['newPage'],\r\n  methods: {\r\n    pageChange (i) {\r\n      this.$emit('newpage', i)\r\n      window.scrollTo({\r\n        top: 0,\r\n        left: 0,\r\n        behavior: 'smooth'\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    hasPage () {\r\n      return this.nowPage > 1\r\n    },\r\n    hasNext () {\r\n      return this.nowPage < this.num\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n.pagination\r\n  justify-content: center\r\n  margin: 16px 0\r\n</style>\r\n","import { render } from \"./UserPageList.vue?vue&type=template&id=0e13e5ae\"\nimport script from \"./UserPageList.vue?vue&type=script&lang=js\"\nexport * from \"./UserPageList.vue?vue&type=script&lang=js\"\n\nimport \"./UserPageList.vue?vue&type=style&index=0&id=0e13e5ae&lang=sass\"\n\nimport exportComponent from \"C:\\\\Users\\\\user007\\\\Desktop\\\\project\\\\js-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingImg :loadStatus=\"isLoading\"></LoadingImg>\r\n  <section>\r\n    <div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"請輸入關鍵字\"\r\n          v-model=\"keyword\"\r\n        >\r\n        <button\r\n          type=\"button\"\r\n          @click.prevent=\"keyWordSearch\"\r\n        >\r\n          <p>搜尋</p>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          @click.prevent=\"cleanSearch\"\r\n        >\r\n          <p>清除</p>\r\n        </button>\r\n    </div>\r\n    <div>\r\n      <table class=\"table align-middle\">\r\n        <thead>\r\n          <th></th>\r\n          <th>訂單編號</th>\r\n          <th>訂購人姓名</th>\r\n          <th>訂單總金額</th>\r\n          <th>訂單狀態</th>\r\n          <th></th>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\" (item, index) in pageDetail\" :key=\"item.id\">\r\n            <td>{{ index +1 }}</td>\r\n            <td>{{ item.id }}</td>\r\n            <td>{{ item.user.name }}</td>\r\n            <td>NT$ {{ item.total }}</td>\r\n            <td>\r\n                <p v-if=\"item.is_paid\">已付款</p>\r\n                <p v-else>待付款</p>\r\n            </td>\r\n            <td>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger\"\r\n                @click.prevent=\"checkOrder(item.id)\"\r\n              >\r\n                查看更多\r\n                </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <div>\r\n      <UserPageList\r\n        :num=\"pageTotal\"\r\n        :now-Page=\"page\"\r\n        @newpage=\"resetPage\">\r\n      </UserPageList>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport UserPageList from '@/components/UserPageList.vue'\r\nimport LoadingImg from '@/components/LoadingImg.vue'\r\n\r\nexport default {\r\n  components: {\r\n    UserPageList,\r\n    LoadingImg\r\n  },\r\n  data () {\r\n    return {\r\n      // 待機狀態\r\n      isLoading: false,\r\n      // 全部data\r\n      orderList: [],\r\n      // 搜尋後data\r\n      finalList: [],\r\n      // 輸入關鍵字\r\n      keyword: '',\r\n      // 關鍵字\r\n      search: '',\r\n      // 起始頁數(api用)\r\n      startPage: 1,\r\n      // 全部頁數\r\n      pageTotal: 0,\r\n      // 每頁10筆\r\n      perpage: 10,\r\n      // 當前頁碼\r\n      page: null\r\n    }\r\n  },\r\n  methods: {\r\n    // 取得所有訂單\r\n    getOrderList (page) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders?page=${page}`\r\n      this.isLoading = true\r\n      this.axios.get(api).then((res) => {\r\n        const newdata = [...this.orderList, ...res.data.orders]\r\n        this.orderList = newdata\r\n        if (res.data.pagination.has_next) {\r\n          this.getOrderList(this.startPage += 1)\r\n        } else {\r\n          this.calc(this.orderList.length)\r\n          this.page = 1\r\n          this.finalList = this.orderList\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    // 查看更多\r\n    checkOrder (id) {\r\n      this.$router.push(`/order/checkout/${id}`)\r\n    },\r\n    // 訂單編號搜尋\r\n    keyWordSearch () {\r\n      this.search = this.keyword\r\n    },\r\n    // 清空\r\n    cleanSearch () {\r\n      this.search = ''\r\n      this.keyword = ''\r\n    },\r\n    // 頁數計算\r\n    calc (n) {\r\n      const r = this.perpage\r\n      this.pageTotal = Math.ceil(n / r)\r\n    },\r\n    resetPage (i) {\r\n      this.page = i\r\n    }\r\n  },\r\n  watch: {\r\n    search (k) {\r\n      this.finalList = this.orderList.filter(item => item.id.match(k))\r\n      this.calc(this.finalList.length)\r\n      this.page = 1\r\n    }\r\n  },\r\n  computed: {\r\n    pageDetail () {\r\n      const pageTotal = this.pageTotal\r\n      const perpage = this.perpage\r\n      let currentPage = this.page\r\n      if (currentPage > pageTotal) {\r\n        currentPage = pageTotal\r\n      }\r\n      const minData = (currentPage * perpage) - perpage + 1\r\n      const maxData = (currentPage * perpage)\r\n\r\n      const pageData = []\r\n      this.finalList.forEach((item, index) => {\r\n        const num = index + 1\r\n        if (num >= minData && num <= maxData) {\r\n          pageData.push(item)\r\n        }\r\n      })\r\n      return pageData\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrderList(this.startPage)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderList.vue?vue&type=template&id=27ba3680\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user007\\\\Desktop\\\\project\\\\js-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_LoadingPage","active","$props","opacity","_createElementVNode","src","$data","alt","style","props","data","img","__exports__","render","class","id","_createElementBlock","_hoisted_1","disabled","$options","href","onClick","_Fragment","item","key","methods","pageChange","i","this","$emit","window","scrollTo","top","left","behavior","computed","hasPage","nowPage","hasNext","num","_hoisted_3","_createVNode","_component_LoadingImg","loadStatus","type","placeholder","_hoisted_5","_hoisted_6","index","user","name","total","is_paid","_component_UserPageList","onNewpage","components","UserPageList","LoadingImg","isLoading","orderList","finalList","keyword","search","startPage","pageTotal","perpage","page","getOrderList","api","axios","get","then","res","newdata","orders","pagination","has_next","calc","length","checkOrder","$router","push","keyWordSearch","cleanSearch","n","r","Math","ceil","resetPage","watch","k","filter","match","pageDetail","currentPage","minData","maxData","pageData","forEach","created"],"sourceRoot":""}