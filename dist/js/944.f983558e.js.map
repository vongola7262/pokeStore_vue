{"version":3,"file":"js/944.f983558e.js","mappings":"+IAIA,MAAMA,GAASC,EAAAA,EAAAA,KAEf,QAAeC,EAAAA,EAAAA,IAAY,YAAa,CACtCC,MAAO,KAAM,CACXC,SAAU,GACVC,MAAO,KACPC,YAAa,KACbC,SAAU,IAEZC,QAAS,CAEPC,cACE,MAAMC,EAAO,2DACbC,EAAAA,GAAAA,IAAUD,GAAKE,MAAMC,IACnBC,KAAKV,SAAWS,EAAIE,KAAKA,KAAKC,MAC9BF,KAAKT,MAAQQ,EAAIE,KAAKA,KAAKV,MAC3BS,KAAKR,YAAcO,EAAIE,KAAKA,KAAKT,WAAW,GAEhD,EAEAW,QAASC,EAAIC,EAAS,GACpB,MAAMC,EAAO,2DACPC,EAAO,CACXN,KAAM,CACJO,WAAYJ,EACZK,IAAKJ,IAGTR,EAAAA,GAAAA,KAAWS,EAAKC,GACbT,MAAKC,IACJC,KAAKL,cACLK,KAAKU,aAAY,EAAM,SAAS,IAEjCC,OAAMZ,IACLC,KAAKU,aAAY,EAAOX,EAAIa,QAAQ,GAE1C,EAEAC,WAAYT,GACV,MAAMR,EAAO,4DAAiEQ,IAC9EP,EAAAA,GAAAA,UAAaD,GACVE,MAAKC,IACJC,KAAKL,cACLK,KAAKU,aAAY,EAAM,MAAM,IAE9BC,OAAMZ,IACLC,KAAKU,aAAY,EAAOX,EAAIa,QAAQ,GAE1C,EAEAE,WACE,MAAMlB,EAAO,4DACbC,EAAAA,GAAAA,UAAaD,GACVE,MAAKC,IACJC,KAAKL,cACLK,KAAKU,aAAY,EAAM,QAAQ,IAEhCC,OAAMZ,IACLC,KAAKU,aAAY,EAAOX,EAAIa,QAAQ,GAE1C,EAEAG,WAAYC,EAAMC,GAChB/B,EAAOgC,WAAY,EACnB,IAAI,GAAEd,EAAE,IAAEK,EAAKD,WAAYW,GAAUH,GACxB,IAATC,EACFR,GAAO,EAEPA,GAAO,EAET,MAAMW,EAAW,CACfZ,WAAYW,EACZV,IAAKA,GAEDb,EAAO,4DAAiEQ,IAC9EP,EAAAA,GAAAA,IAAUD,EAAK,CAAEK,KAAMmB,IACpBtB,MAAKC,IACJb,EAAOgC,WAAY,EACnBlB,KAAKL,aAAa,IAEnBgB,OAAMZ,IACLC,KAAKU,aAAY,EAAOX,EAAIa,QAAQ,GAE1C,EAEAF,YAAaW,EAAKT,GAChB1B,EAAOoC,WAAWC,QAAS,EAC3BrC,EAAOoC,WAAWpC,OAASmC,EAC3BnC,EAAOoC,WAAWE,KAAOZ,EACzBa,YAAW,KACTvC,EAAOoC,WAAWC,QAAS,EAC3BrC,EAAOoC,WAAWpC,QAAS,EAC3BA,EAAOoC,WAAWE,KAAO,EAAE,GAC1B,OACL,GAEFE,QAAS,CACPC,OAAQtC,GACN,OAAOA,EAAMC,SAASsC,MACxB,I,qCCrGJ,QAAexC,EAAAA,EAAAA,IAAY,cAAe,CACxCC,MAAO,KAAM,CAEXwC,WAAW,EAEXX,WAAW,EAEXI,WAAY,CACVC,QAAQ,EACRrC,QAAQ,EACRsC,KAAM,O,8FCPsBM,MAAM,U,mBAGpBA,MAAM,U,oDAPtBC,EAAAA,EAAAA,IAaM,OAZFD,OAAK,SAAC,UAAS,CAAAP,OACGS,EAAAA,OAAOT,W,CAEdS,EAAAA,OAAO9C,SAAM,WAAxB6C,EAAAA,EAAAA,IAEM,MAFNE,EAEM,EADFC,EAAAA,EAAAA,GAA2B,OAArBC,IAAKC,EAAAA,QAASC,IAAI,I,0BAE5BN,EAAAA,EAAAA,IAEM,MAFNO,EAEM,EADFJ,EAAAA,EAAAA,GAAyB,OAAnBC,IAAKC,EAAAA,MAAOC,IAAI,I,cAE1BH,EAAAA,EAAAA,GAEI,KAFAJ,OAAK,SAAAS,OAAYP,EAAAA,OAAO9C,W,QACrB8C,EAAAA,OAAOR,MAAI,M,CAM1B,OACEgB,MAAO,CAAC,UACRvC,OACE,MAAO,CACLwC,QAAS,mCACTF,MAAO,kCAEX,G,UClBF,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,+JCRIC,EAAAA,EAAAA,IAMcC,EAAAA,CANAtB,OAAQS,EAAAA,WAAac,QAAS,GAAM,mBAAkB,Q,mBAChE,IAIE,EAJFZ,EAAAA,EAAAA,GAIE,OAHDC,IAAKC,EAAAA,IACNC,IAAI,GACJU,MAAA,gC,0CAMR,OACEP,MAAO,CAAC,cACRvC,OACE,MAAO,CACL+C,IAAK,mCAET,G,UCZF,MAAMN,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,gHCJWb,MAAM,gB,GACRA,MAAM,gB,SACwBA,MAAM,a,GACrCI,EAAAA,EAAAA,GAAkB,UAAd,aAAS,G,GAKXA,EAAAA,EAAAA,GAAgB,UAAZ,WAAO,G,GAAXe,G,SAGQnB,MAAM,O,GACXA,MAAM,Y,GACJA,MAAM,Y,GACLA,MAAM,mB,GAKDA,MAAM,gB,GACJA,MAAM,U,mBAIRA,MAAM,kB,SAEeA,MAAM,c,GAIvBA,MAAM,c,SAIDA,MAAM,c,iBAUbA,MAAM,W,iBAOPI,EAAAA,EAAAA,GAAQ,SAAL,KAAC,G,GAAJgB,G,GAEGpB,MAAM,Y,iBAWTI,EAAAA,EAAAA,GAAQ,SAAL,KAAC,G,GAAJiB,G,GAMLrB,MAAM,Y,GAMPI,EAAAA,EAAAA,GAAW,SAAR,QAAI,G,GAAPkB,G,GAKHtB,MAAM,Y,GACJA,MAAM,iB,GACJA,MAAM,Y,GACTI,EAAAA,EAAAA,GAAc,UAAV,SAAK,G,GACJJ,MAAM,yB,SAEPA,MAAM,a,GAcNI,EAAAA,EAAAA,GAAS,SAAN,MAAE,G,GAALmB,G,GAICvB,MAAM,S,GAGPI,EAAAA,EAAAA,GAEK,YADHA,EAAAA,EAAAA,GAAS,SAAN,QAAE,G,GAEHJ,MAAM,Y,GAKVI,EAAAA,EAAAA,GAEK,YADHA,EAAAA,EAAAA,GAAS,SAAN,QAAE,G,GAEHJ,MAAM,Y,GAIZI,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAEK,YADHA,EAAAA,EAAAA,GAAS,SAAN,SAELA,EAAAA,EAAAA,GAEK,MAFDJ,MAAM,YAAU,EAClBI,EAAAA,EAAAA,GAAQ,SAAL,SAAC,G,GAMFoB,QAAQ,IAAIxB,MAAM,Y,GAMvBA,MAAM,e,GAMPI,EAAAA,EAAAA,GAAW,SAAR,QAAI,G,GAAPqB,G,GAOArB,EAAAA,EAAAA,GAAU,SAAP,OAAG,G,IAANsB,G,qHA3JdC,EAAAA,EAAAA,IAAiDC,EAAAA,CAApCC,WAAYC,EAAAA,WAAS,wBAClCH,EAAAA,EAAAA,IAA0CI,EAAAA,CAA/BC,OAAQF,EAAAA,YAAU,oBAC7B1B,EAAAA,EAAAA,GAgKU,UAhKVD,EAgKU,EA/JRC,EAAAA,EAAAA,GA8JM,MA9JN6B,EA8JM,CA7J0B,GAAnBH,EAAAA,SAAShC,SAAM,WAA1BG,EAAAA,EAAAA,IAQM,MARNO,EAQM,CAPJ0B,GACA9B,EAAAA,EAAAA,GAKI,KALD+B,KAAK,IACNnC,MAAM,WACLoC,QAAK,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,e,mBAK5BpC,EAAAA,EAAAA,IAmJM,MAnJNqC,EAmJM,EAlJJlC,EAAAA,EAAAA,GAoEM,MApENmC,EAoEM,EAnEJnC,EAAAA,EAAAA,GAkEM,MAlENoC,EAkEM,EAjEJpC,EAAAA,EAAAA,GAuDK,KAvDLqC,EAuDK,gBAtDHxC,EAAAA,EAAAA,IAqDKyC,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IApDYZ,EAAAA,UAAR5C,K,WADTe,EAAAA,EAAAA,IAqDK,MArDDD,MAAM,kBAEP2C,IAAKzD,EAAKZ,I,EAEX8B,EAAAA,EAAAA,GAIM,MAJNwC,EAIM,EAHJxC,EAAAA,EAAAA,GAEM,MAFNyC,EAEM,EADJzC,EAAAA,EAAAA,GAA4D,OAAtDC,IAAKnB,EAAK4D,QAAQC,SAAWxC,IAAKrB,EAAK4D,QAAQE,O,eAGzD5C,EAAAA,EAAAA,GA2CM,MA3CN6C,EA2CM,EA1CJ7C,EAAAA,EAAAA,GAAiC,mBAA1BlB,EAAK4D,QAAQE,OAAK,GACd9D,EAAKgE,SAAM,WAAtBjD,EAAAA,EAAAA,IAOM,MAPNkD,EAOM,EANJ/C,EAAAA,EAAAA,GAEK,UAFD,UACG,QAAGlB,EAAKxB,aAAW,IAE1B0C,EAAAA,EAAAA,GAEM,MAFNgD,EAEM,EADJhD,EAAAA,EAAAA,GAA2B,SAAxB,QAAI,QAAGlB,EAAKzB,OAAK,qBAGxBwC,EAAAA,EAAAA,IAIM,MAJNoD,EAIM,EAHJjD,EAAAA,EAAAA,GAEK,UAFD,SACE,QAAGlB,EAAKxB,aAAW,OAG3B0C,EAAAA,EAAAA,GAII,KAJD+B,KAAK,GACNnC,MAAM,YACLoC,SAAK,YAAUN,EAAAA,WAAW5C,EAAKZ,KAAE,c,WAGpC8B,EAAAA,EAAAA,GAsBM,MAtBNkD,EAsBM,EArBJlD,EAAAA,EAAAA,GAOS,UAPTmD,EAAAA,EAAAA,IAOS,CANPpE,KAAK,SACLa,MAAM,c,UACad,EAAKP,KAAO,GAAKmD,EAAAA,WAAS,CAC5CM,SAAK,YAAUN,EAAAA,WAAW5C,GAAM,IAAF,e,SAIjCkB,EAAAA,EAAAA,GAIM,MAJNoD,EAIM,EAHJpD,EAAAA,EAAAA,GAEI,kBADClB,EAAKP,KAAG,MAGfyB,EAAAA,EAAAA,GAOS,UAPTmD,EAAAA,EAAAA,IAOS,CANPpE,KAAK,SACLa,MAAM,W,UACa8B,EAAAA,WAAS,CAC3BM,SAAK,YAAUN,EAAAA,WAAW5C,GAAM,IAAF,e,0BAQzCkB,EAAAA,EAAAA,GAQM,MARNqD,EAQM,EAPJrD,EAAAA,EAAAA,GAMS,UALPjB,KAAK,SACLa,MAAM,MACLoC,QAAK,8BAAUN,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,e,UAOhC1B,EAAAA,EAAAA,GA4EM,MA5ENsD,EA4EM,EA3EJtD,EAAAA,EAAAA,GA0EM,MA1ENuD,EA0EM,EAzEJvD,EAAAA,EAAAA,GAqBM,MArBNwD,EAqBM,CApBJC,GACAzD,EAAAA,EAAAA,GAkBM,MAlBN0D,EAkBM,CAjByB,KAApBxD,EAAAA,kBAAe,WAAxBL,EAAAA,EAAAA,IAII,IAJJ8D,GAII,QADCzD,EAAAA,iBAAe,8BAEpBF,EAAAA,EAAAA,GAIE,SAHAjB,KAAK,OACL6E,YAAY,Q,qCACH1D,EAAAA,KAAI,I,iBAAJA,EAAAA,SAEXF,EAAAA,EAAAA,GAMS,UALPjB,KAAK,SACLa,MAAM,kBACLoC,QAAK,8BAAUC,EAAAA,WAAAA,EAAAA,aAAAA,IAAS,e,QAM/BjC,EAAAA,EAAAA,GAkCQ,QAlCR6D,EAkCQ,EAjCN7D,EAAAA,EAAAA,GAyBQ,eAxBNA,EAAAA,EAAAA,GAOK,WANH8D,GAGA9D,EAAAA,EAAAA,GAEK,KAFL+D,EAEK,EADH/D,EAAAA,EAAAA,GAAkB,kBAAZ0B,EAAAA,OAAK,QAGf1B,EAAAA,EAAAA,GAOK,WANHgE,GAGAhE,EAAAA,EAAAA,GAEK,KAFLiE,EAEK,EADHjE,EAAAA,EAAAA,GAAiC,kBAA1B0B,EAAAA,YAAcA,EAAAA,OAAK,OAG9BwC,KASFlE,EAAAA,EAAAA,GAMQ,eALNA,EAAAA,EAAAA,GAIK,YAHHA,EAAAA,EAAAA,GAEK,KAFLmE,EAEK,EADHnE,EAAAA,EAAAA,GAAiC,UAA7B,WAAO,QAAG0B,EAAAA,aAAW,YAKjC1B,EAAAA,EAAAA,GAeM,MAfNoE,EAeM,EAdJpE,EAAAA,EAAAA,GAMS,UALPjB,KAAK,SACLa,MAAM,WACLoC,QAAK,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,e,IAI1BjC,EAAAA,EAAAA,GAMS,UALPjB,KAAK,SACLa,MAAM,eACLoC,QAAK,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,e,yFAoBxC,IACEoC,WAAY,CACVC,WAAU,KACVC,SAAQA,GAAAA,GAEVxG,OACE,MAAO,CACLyG,KAAM,KACNC,gBAAiB,GAErB,EACAC,SAAU,KACLC,EAAAA,GAAAA,IAASC,GAAAA,EAAW,CAAC,WAAY,QAAS,cAAe,kBACzDD,EAAAA,GAAAA,IAAS1H,GAAAA,EAAa,CAAC,YAAa,YAAa,gBAEtD4H,QAAS,KACJC,EAAAA,GAAAA,IAAWF,GAAAA,EAAW,CAAC,cAAe,aAAc,WAAY,eAEnEG,YACE,MAAMrH,EAAO,6DACPsH,EAAO,CACXA,KAAMlH,KAAK0G,MAEb1G,KAAKH,MAAMsH,KAAKvH,EAAK,CAAEK,KAAMiH,IAAQpH,MAAMC,KAChB,IAArBA,EAAIE,KAAKwC,SACXzC,KAAKL,cACLK,KAAK2G,gBAAkB,KAEvB3G,KAAK2G,gBAAkB5G,EAAIE,KAAKW,QAChCZ,KAAK0G,KAAO,KACd,GAEJ,EAEAU,WACEpH,KAAKqH,QAAQC,KAAK,CAAEC,KAAM,YAC5B,EAEAC,WACExH,KAAKqH,QAAQC,KAAK,gBACpB,GAEFG,UACEzH,KAAKL,aACP,G,WCnNF,MAAM+C,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,MAEpE,S","sources":["webpack://js-shop/./src/stores/cartStore.js","webpack://js-shop/./src/stores/statusStore.js","webpack://js-shop/./src/components/HintCard.vue","webpack://js-shop/./src/components/HintCard.vue?ae4c","webpack://js-shop/./src/components/LoadingImg.vue","webpack://js-shop/./src/components/LoadingImg.vue?82c5","webpack://js-shop/./src/views/main/cart/CartList.vue","webpack://js-shop/./src/views/main/cart/CartList.vue?b1bc"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport axios from 'axios'\r\nimport statusStore from './statusStore'\r\n\r\nconst status = statusStore()\r\n\r\nexport default defineStore('cartStore', {\r\n  state: () => ({\r\n    cartList: [],\r\n    total: null,\r\n    final_total: null,\r\n    totalNum: 0\r\n  }),\r\n  actions: {\r\n    // 所有商品\r\n    getCartList () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      axios.get(api).then((res) => {\r\n        this.cartList = res.data.data.carts\r\n        this.total = res.data.data.total\r\n        this.final_total = res.data.data.final_total\r\n      })\r\n    },\r\n    // 新增商品\r\n    addCart (id, qtyNum = 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const cart = {\r\n        data: {\r\n          product_id: id,\r\n          qty: qtyNum\r\n        }\r\n      }\r\n      axios.post(url, cart)\r\n        .then(res => {\r\n          this.getCartList()\r\n          this.hintMessage(true, '已加入購物車')\r\n        })\r\n        .catch(res => {\r\n          this.hintMessage(false, res.message)\r\n        })\r\n    },\r\n    // 刪除單筆\r\n    removeItem (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      axios.delete(api)\r\n        .then(res => {\r\n          this.getCartList()\r\n          this.hintMessage(true, '已刪除')\r\n        })\r\n        .catch(res => {\r\n          this.hintMessage(false, res.message)\r\n        })\r\n    },\r\n    // 全部刪除\r\n    cleanAll () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`\r\n      axios.delete(api)\r\n        .then(res => {\r\n          this.getCartList()\r\n          this.hintMessage(true, '清空購物車')\r\n        })\r\n        .catch(res => {\r\n          this.hintMessage(false, res.message)\r\n        })\r\n    },\r\n    // 更新單筆數量\r\n    updateCart (item, type) {\r\n      status.btnStatus = true\r\n      let { id, qty, product_id: proId } = item\r\n      if (type === true) {\r\n        qty += 1\r\n      } else {\r\n        qty -= 1\r\n      }\r\n      const cartItem = {\r\n        product_id: proId,\r\n        qty: qty\r\n      }\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      axios.put(api, { data: cartItem })\r\n        .then(res => {\r\n          status.btnStatus = false\r\n          this.getCartList()\r\n        })\r\n        .catch(res => {\r\n          this.hintMessage(false, res.message)\r\n        })\r\n    },\r\n    // 提示跳框\r\n    hintMessage (sas, message) {\r\n      status.hintStatus.active = true\r\n      status.hintStatus.status = sas\r\n      status.hintStatus.text = message\r\n      setTimeout(() => {\r\n        status.hintStatus.active = false\r\n        status.hintStatus.status = false\r\n        status.hintStatus.text = ''\r\n      }, '1000')\r\n    }\r\n  },\r\n  getters: {\r\n    getQty (state) {\r\n      return state.cartList.length\r\n    }\r\n  }\r\n})\r\n","import { defineStore } from 'pinia'\r\n\r\nexport default defineStore('statusStore', {\r\n  state: () => ({\r\n    // 載入動畫\r\n    isLoading: false,\r\n    // 禁止連續點擊\r\n    btnStatus: false,\r\n    // 提示框狀態\r\n    hintStatus: {\r\n      active: false,\r\n      status: false,\r\n      text: ''\r\n    }\r\n  })\r\n})\r\n","<template>\r\n    <div\r\n        class=\"hintBox\"\r\n        :class=\"{ active: isHint.active }\"\r\n    >\r\n        <div v-if=\"isHint.status\" class=\"imgBox\">\r\n            <img :src=\"success\" alt=\"\">\r\n        </div>\r\n        <div v-else class=\"imgBox\">\r\n            <img :src=\"error\" alt=\"\">\r\n        </div>\r\n        <p :class=\"{ error: !isHint.status}\">\r\n            {{ isHint.text }}\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['isHint'],\r\n  data () {\r\n    return {\r\n      success: './assets/images/icon/checked.png',\r\n      error: './assets/images/icon/cancel.png'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n    .hintBox\r\n        position: fixed\r\n        top: 10%\r\n        right: 5%\r\n        width: 90%\r\n        max-width: 250px\r\n        background-color: #fff\r\n        z-index: 555\r\n        border-radius: 10px\r\n        background: #D9BD9C\r\n        box-shadow:  8px 8px 5px #898989\r\n        display: none\r\n        align-items: center\r\n        padding: 10px\r\n        &.active\r\n            display: flex\r\n            animation: failout  6s forwards\r\n        .imgBox\r\n            display: flex\r\n            justify-content: center\r\n            width: 80px\r\n            margin-right: 10px\r\n        img\r\n            width: 60px\r\n        p\r\n            font-size: 14px\r\n            font-weight: 700\r\n            letter-spacing: 2px\r\n            &.error\r\n                color: #F24141\r\n        @keyframes failout\r\n            0%\r\n                opacity: 1\r\n            100%\r\n                opacity: 0\r\n</style>\r\n","import { render } from \"./HintCard.vue?vue&type=template&id=e266718a\"\nimport script from \"./HintCard.vue?vue&type=script&lang=js\"\nexport * from \"./HintCard.vue?vue&type=script&lang=js\"\n\nimport \"./HintCard.vue?vue&type=style&index=0&id=e266718a&lang=sass\"\n\nimport exportComponent from \"C:\\\\Users\\\\user007\\\\Desktop\\\\project\\\\js-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <LoadingPage :active=\"loadStatus\" :opacity=\"0.9\" :background-color=\"`#fff`\">\r\n        <img\r\n        :src=\"img\"\r\n        alt=\"\"\r\n        style=\"width: 250px; height: 250px\"\r\n        />\r\n    </LoadingPage>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['loadStatus'],\r\n  data () {\r\n    return {\r\n      img: './assets/images/pokemon/pika.gif'\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./LoadingImg.vue?vue&type=template&id=f5350354\"\nimport script from \"./LoadingImg.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingImg.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user007\\\\Desktop\\\\project\\\\js-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <LoadingImg :loadStatus=\"isLoading\"></LoadingImg>\r\n  <HintCard :isHint=\"hintStatus\"></HintCard>\r\n  <section class=\"mainCartList\">\r\n    <div class=\"container-lg\">\r\n      <div v-if=\"cartList.length == 0\" class=\"emptyText\">\r\n        <h3>目前購物車是空的!</h3>\r\n        <a href=\"#\"\r\n          class=\"viewMore\"\r\n          @click.prevent=\"viewMore\"\r\n        >\r\n          <h4>前往商店 GO</h4>\r\n        </a>\r\n      </div>\r\n      <div v-else class=\"row\">\r\n        <div class=\"col-md-8\">\r\n          <div class=\"cartList\">\r\n            <ul class=\"cart-list-group\">\r\n              <li class=\"list-group-item\"\r\n                v-for=\"item in cartList\"\r\n                :key=\"item.id\"\r\n              >\r\n                <div class=\"cartImageBox\">\r\n                  <div class=\"imgBox\">\r\n                    <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"cartDetailList\">\r\n                  <h6>{{ item.product.title }}</h6>\r\n                  <div v-if=\"item.coupon\" class=\"finalPrice\">\r\n                    <h5>\r\n                      優惠價: {{ item.final_total }}\r\n                    </h5>\r\n                    <div class=\"orginPrice\">\r\n                      <p>原價: {{ item.total }}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div v-else class=\"finalPrice\">\r\n                    <h5>\r\n                      特價: {{ item.final_total }}\r\n                    </h5>\r\n                  </div>\r\n                  <a href=\"\"\r\n                    class=\"removeBtn\"\r\n                    @click.prevent=\"removeItem(item.id)\"\r\n                  >\r\n                  </a>\r\n                  <div class=\"unitBox\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn remove\"\r\n                      v-bind=\"{disabled: item.qty <= 1 || btnStatus}\"\r\n                      @click.prevent=\"updateCart(item, false)\"\r\n                    >\r\n                      <p>-</p>\r\n                    </button>\r\n                    <div class=\"unitText\">\r\n                      <p>\r\n                        {{ item.qty }}\r\n                      </p>\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn add\"\r\n                      v-bind=\"{disabled: btnStatus }\"\r\n                      @click.prevent=\"updateCart(item, true)\"\r\n                    >\r\n                      <p>+</p>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <div class=\"cleanBtn\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn\"\r\n                @click.prevent=\"cleanAll\"\r\n              >\r\n                <p>全部清空</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"paymentDeatil\">\r\n            <div class=\"titleBox\">\r\n              <h3>購物車資訊</h3>\r\n              <div class=\"inputCode input-group\">\r\n                <p v-if=\"enterCodeStatus !== ''\"\r\n                  class=\"errorCode\"\r\n                >\r\n                  {{ enterCodeStatus }}\r\n                </p>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"輸入優惠碼\"\r\n                  v-model=\"Code\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary\"\r\n                  @click.prevent=\"enterCode\"\r\n                >\r\n                  <p>套用</p>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <table class=\"table\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>\r\n                    <p>小計</p>\r\n                  </th>\r\n                  <td class=\"text-end\">\r\n                    <p>{{ total }}</p>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>\r\n                    <p>折價</p>\r\n                  </th>\r\n                  <td class=\"text-end\">\r\n                    <p> {{ final_total - total }}</p>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>\r\n                    <p>運費</p>\r\n                  </th>\r\n                  <td class=\"text-end\">\r\n                    <p>0</p>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td colspan=\"2\" class=\"text-end\">\r\n                    <h4>總計: NT${{ final_total }}</h4>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n            <div class=\"nextStepBox\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn shop\"\r\n                @click.prevent=\"viewMore\"\r\n              >\r\n                <p>繼續購物</p>\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn nextStep\"\r\n                @click.prevent=\"nextStep\"\r\n              >\r\n                <p>下一步</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport LoadingImg from '@/components/LoadingImg.vue'\r\nimport HintCard from '@/components/HintCard.vue'\r\n\r\nimport cartStore from '@/stores/cartStore.js'\r\nimport statusStore from '@/stores/statusStore'\r\nimport { mapState, mapActions } from 'pinia'\r\n\r\nexport default {\r\n  components: {\r\n    LoadingImg,\r\n    HintCard\r\n  },\r\n  data () {\r\n    return {\r\n      Code: null,\r\n      enterCodeStatus: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(cartStore, ['cartList', 'total', 'final_total', 'isLoading']),\r\n    ...mapState(statusStore, ['isLoading', 'btnStatus', 'hintStatus'])\r\n  },\r\n  methods: {\r\n    ...mapActions(cartStore, ['getCartList', 'removeItem', 'cleanAll', 'updateCart']),\r\n    // 套用優惠碼\r\n    enterCode () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const code = {\r\n        code: this.Code\r\n      }\r\n      this.axios.post(api, { data: code }).then((res) => {\r\n        if (res.data.success === true) {\r\n          this.getCartList()\r\n          this.enterCodeStatus = ''\r\n        } else {\r\n          this.enterCodeStatus = res.data.message\r\n          this.Code = null\r\n        }\r\n      })\r\n    },\r\n    // 結帳\r\n    nextStep () {\r\n      this.$router.push({ name: 'cartform' })\r\n    },\r\n    // 前往商品\r\n    viewMore () {\r\n      this.$router.push('/typeList/all')\r\n    }\r\n  },\r\n  created () {\r\n    this.getCartList()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"sass\">\r\n  section.mainCartList\r\n    padding: 60px 0\r\n    background-color: #f0dec9\r\n    min-height: 65vh\r\n    position: relative\r\n    @media screen and (max-width:575px)\r\n      padding: 40px 0\r\n  .cartList\r\n    @media screen and (max-width:767px)\r\n      width: 90%\r\n      margin: 0 auto\r\n    @media screen and (max-width:575px)\r\n      width: 100%\r\n  .emptyText\r\n    text-align: center\r\n    position: absolute\r\n    top: 50%\r\n    left: 50%\r\n    transform: translate(-50%,-50%)\r\n    width: 90%\r\n    h3\r\n      font-size: 36px\r\n      color: #734230\r\n      margin-bottom: 20px\r\n    a\r\n      text-decoration: none\r\n      h4\r\n        letter-spacing: 2px\r\n        color: #734230\r\n        &:hover\r\n          color: #D98841\r\n  .cart-list-group\r\n    background-color: #fff\r\n    border-radius: 8px\r\n    box-shadow: 8px 8px 14px #734230\r\n    padding: 0\r\n    margin: 0\r\n  .list-group-item\r\n    display: flex\r\n    padding: 25px 40px\r\n    border-bottom: 1px solid #f0dec9\r\n    @media screen and (max-width:991px)\r\n      padding: 15px 20px\r\n    .cartImageBox\r\n      flex: 1\r\n      display: flex\r\n      align-items: center\r\n      margin-right: 40px\r\n      @media screen and (max-width:991px)\r\n        margin-right: 20px\r\n      @media screen and (max-width:767px)\r\n        flex: 2\r\n        margin-right: 40px\r\n      @media screen and (max-width:575px)\r\n        margin-right: 20px\r\n      .imgBox\r\n        width: 100%\r\n        height: 0\r\n        padding-bottom: 61.8%\r\n        position: relative\r\n        overflow: hidden\r\n        img\r\n          width: 100%\r\n          position: absolute\r\n          top: 50%\r\n          transform: translateY(-50%)\r\n    .cartDetailList\r\n      flex: 2\r\n      display: flex\r\n      flex-direction: column\r\n      position: relative\r\n      @media screen and (max-width:767px)\r\n        flex: 3\r\n      h6\r\n        margin-bottom: 5px\r\n        font-size: 16px\r\n      .unitBox\r\n        display: flex\r\n        align-items: center\r\n        button\r\n          background-color: #D9BD9C\r\n          padding: 4px 6px\r\n          &.add\r\n            border-radius: 0 5px 5px 0\r\n          &.remove\r\n            border-radius: 5px 0 0 5px\r\n          &:active\r\n            border-color: #D9BD9C\r\n          &:disabled\r\n            background-color: #d5c6b4\r\n            border-color: #d5c6b4\r\n          &:hover\r\n            background-color: #d5aa78\r\n            border-color: #d5aa78\r\n        .unitText\r\n          border: 1px solid #D9BD9C\r\n          height: 100%\r\n          display: flex\r\n          align-items: center\r\n          padding: 0 10px\r\n        p\r\n          font-size: 16px\r\n          margin-left: 5px\r\n          margin: 0\r\n      .finalPrice\r\n        margin-bottom: 5px\r\n        h5\r\n          font-size: 24px\r\n          color: #bb6e2b\r\n          @media screen and (max-width:575px)\r\n            font-size: 20px\r\n        span\r\n          @media screen and (max-width:767px)\r\n            display: none\r\n        .orginPrice\r\n          display: flex\r\n          p\r\n            color: #d5c6b4\r\n            position: relative\r\n            &::before\r\n              content: ''\r\n              display: block\r\n              width: 100%\r\n              height: 1px\r\n              background-color: #d5c6b4\r\n              position: absolute\r\n              left: 0\r\n              top: 60%\r\n              transform: translateY(-50%)\r\n          @media screen and (max-width:575px)\r\n            display: none\r\n      .removeBtn\r\n        position: absolute\r\n        right: 0\r\n        top: 50%\r\n        transform: translateY(-50%)\r\n        display: block\r\n        width: 30px\r\n        height: 50px\r\n        background-image: url('/public/assets/images/icon/remove.png')\r\n        background-repeat: no-repeat\r\n        background-size: contain\r\n        background-position: center\r\n        @media screen and (max-width:767px)\r\n          top: auto\r\n          bottom: 0\r\n          transform: translateY(0)\r\n          background-position: bottom\r\n\r\n  .cleanBtn\r\n    padding-top:  40px\r\n    display: flex\r\n    justify-content: flex-end\r\n    button\r\n      background-color: #F24141\r\n      p\r\n        color: #fff\r\n      &:hover\r\n        background-color: #BF0426\r\n  .paymentDeatil\r\n    width: 90%\r\n    margin: 0 auto\r\n    @media screen and (max-width:575px)\r\n      width: 100%\r\n    .titleBox\r\n      margin-bottom: 20px\r\n      border-bottom: 2px solid #734230\r\n      padding-bottom: 20px\r\n      h3\r\n        color: #734230\r\n        margin: 0\r\n      .inputCode\r\n        padding-top: 20px\r\n        position: relative\r\n        @media screen and (max-width:991px)\r\n          flex-direction: column\r\n        @media screen and (max-width:767px)\r\n          flex-direction: row\r\n        p.errorCode\r\n          position: absolute\r\n          top: 0\r\n          left: 0\r\n          color: #F24141\r\n        input\r\n          flex: 3\r\n          border-style: none\r\n          padding: 10px\r\n          &:focus-visible\r\n            outline: none\r\n        button\r\n          flex: 1\r\n          width: 79px\r\n          background-color: #D9BD9C\r\n          border-color: #D9BD9C\r\n          @media screen and (max-width:991px)\r\n            width: 100%\r\n            border-radius: 0\r\n            margin-left: 0\r\n          @media screen and (max-width:767px)\r\n            width: auto\r\n            margin-left: -1px\r\n            border-radius: 0 8px 8px 0\r\n          &:hover\r\n            background-color: #d5aa78\r\n            border-color: #d5aa78\r\n    .table\r\n      tbody\r\n        border-bottom: 1px solid #734230\r\n      tfoot\r\n        td\r\n          border-bottom: none\r\n          h4\r\n            color: #734230\r\n  .nextStepBox\r\n    display: flex\r\n    justify-content: flex-end\r\n    padding: 0.5rem\r\n    button\r\n      &.nextStep\r\n        background-color: #81A69B\r\n        p\r\n          color: #fff\r\n        &:hover\r\n          background-color: #3DC5BA\r\n      &.shop\r\n        background-color: #D9BD9C\r\n        margin-right: 20px\r\n        p\r\n          color: #734230\r\n        &:hover\r\n          background-color: #d5aa78\r\n</style>\r\n","import { render } from \"./CartList.vue?vue&type=template&id=fc71195e\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport \"./CartList.vue?vue&type=style&index=0&id=fc71195e&lang=sass\"\n\nimport exportComponent from \"C:\\\\Users\\\\user007\\\\Desktop\\\\project\\\\js-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","cartList","total","final_total","totalNum","actions","getCartList","api","axios","then","res","this","data","carts","addCart","id","qtyNum","url","cart","product_id","qty","hintMessage","catch","message","removeItem","cleanAll","updateCart","item","type","btnStatus","proId","cartItem","sas","hintStatus","active","text","setTimeout","getters","getQty","length","isLoading","class","_createElementBlock","$props","_hoisted_1","_createElementVNode","src","$data","alt","_hoisted_3","error","props","success","__exports__","render","_createBlock","_component_LoadingPage","opacity","style","img","_hoisted_5","_hoisted_21","_hoisted_25","_hoisted_28","_hoisted_36","colspan","_hoisted_46","_hoisted_48","_createVNode","_component_LoadingImg","loadStatus","_ctx","_component_HintCard","isHint","_hoisted_2","_hoisted_4","href","onClick","$options","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","key","_hoisted_11","_hoisted_12","product","imageUrl","title","_hoisted_14","coupon","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_mergeProps","_hoisted_23","_hoisted_27","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","placeholder","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","components","LoadingImg","HintCard","Code","enterCodeStatus","computed","mapState","cartStore","methods","mapActions","enterCode","code","post","nextStep","$router","push","name","viewMore","created"],"sourceRoot":""}