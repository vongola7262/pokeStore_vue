"use strict";(self["webpackChunkjs_shop"]=self["webpackChunkjs_shop"]||[]).push([[689],{7364:function(t,e,r){r.d(e,{Z:function(){return u}});var s=r(3099);const l=["src"];function n(t,e,r,n,o,a){const d=(0,s.up)("LoadingPage");return(0,s.wg)(),(0,s.j4)(d,{active:r.loadStatus,opacity:.9,"background-color":"#fff"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:o.img,alt:"",style:{width:"250px",height:"250px"}},null,8,l)])),_:1},8,["active","opacity"])}var o={props:["loadStatus"],data(){return{img:"./assets/images/pokemon/pika.gif"}}},a=r(5727);const d=(0,a.Z)(o,[["render",n]]);var u=d},2689:function(t,e,r){r.r(e),r.d(e,{default:function(){return Z}});var s=r(3099),l=r(8317),n=r(5860);const o={class:"my-5 row justify-content-center"},a={class:"col-md-6"},d={key:0},u={class:"table align-middle"},i=(0,s._)("thead",null,[(0,s._)("th",null,"品名"),(0,s._)("th",null,"數量"),(0,s._)("th",null,"單價")],-1),c={class:"text-end"},p=(0,s._)("td",{colspan:"2",class:"text-end"},"總計",-1),_={class:"text-end"},h={class:"table"},g=(0,s._)("th",null,"姓名",-1),w=(0,s._)("th",null,"電話",-1),y=(0,s._)("th",{width:"100"},"Email",-1),m=(0,s._)("th",null,"地址",-1),k=(0,s._)("th",null,"收件時段",-1),b={key:0},f={key:1},v={key:2},x=(0,s._)("th",null,"備註",-1),z=(0,s._)("th",null,"付款狀態",-1),D={key:0},L={key:1,class:"text-success"},S={key:0,class:"text-end"};function j(t,e,r,j,I,$){const C=(0,s.up)("LoadingImg");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(C,{loadStatus:I.isLoading},null,8,["loadStatus"]),(0,s._)("section",null,[(0,s._)("div",o,[(0,s._)("div",a,[I.orderStatus?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("h4",null,"訂單編號 "+(0,l.zw)(I.orderId),1),(0,s._)("table",u,[i,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.order.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id},[(0,s._)("td",null,(0,l.zw)(t.product.title),1),(0,s._)("td",null,(0,l.zw)(t.qty)+" / "+(0,l.zw)(t.product.unit),1),(0,s._)("td",c,(0,l.zw)(t.final_total),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[p,(0,s._)("td",_,(0,l.zw)(I.order.total),1)])])]),(0,s._)("table",h,[(0,s._)("tbody",null,[(0,s._)("tr",null,[g,(0,s._)("td",null,(0,l.zw)(I.order.user.name),1)]),(0,s._)("tr",null,[w,(0,s._)("td",null,(0,l.zw)(I.order.user.tel),1)]),(0,s._)("tr",null,[y,(0,s._)("td",null,(0,l.zw)(I.order.user.email),1)]),(0,s._)("tr",null,[m,(0,s._)("td",null,(0,l.zw)(I.order.user.address),1)]),(0,s._)("tr",null,[k,1==I.order.user.meetTime?((0,s.wg)(),(0,s.iD)("td",b,"8:00 ~ 12:00")):2==I.order.user.meetTime?((0,s.wg)(),(0,s.iD)("td",f,"13:00 ~ 17:00")):((0,s.wg)(),(0,s.iD)("td",v,"18:00 ~ 21:00"))]),(0,s._)("tr",null,[x,(0,s._)("td",null,(0,l.zw)(I.order.message),1)]),(0,s._)("tr",null,[z,(0,s._)("td",null,[I.order.is_paid?((0,s.wg)(),(0,s.iD)("span",L,"付款完成")):((0,s.wg)(),(0,s.iD)("span",D,"尚未付款"))])])])]),I.order.is_paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("button",{type:"button",class:"btn btn-secondary",onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>$.payLater&&$.payLater(...t)),["prevent"]))}," 稍後付款 "),(0,s._)("button",{type:"button",class:"btn btn-danger",onClick:e[1]||(e[1]=(0,n.iM)((t=>$.payOrder(I.orderId)),["prevent"]))}," 付款去 ")]))])):(0,s.kq)("",!0)])])])],64)}r(7658);var I=r(7364),$={props:["id"],components:{LoadingImg:I.Z},data(){return{isLoading:!1,orderStatus:!1,orderId:null,order:null}},methods:{getOrder(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/jysing-aip/order/${t}`;this.axios.get(e).then((t=>{this.order=t.data.order,this.isLoading=!1,this.orderStatus=!0}))},payOrder(t){const e=`https://vue3-course-api.hexschool.io/api/jysing-aip/pay/${t}`;this.axios.post(e).then((t=>{!0===t.data.success?(console.log(t),this.$router.push({name:"cartsuccess"})):(console.log("error"),this.$router.push({name:"cartsuccess"}))}))},payLater(){this.$router.push({name:"orderlist"})}},created(){const{id:t}=this.$route.params;this.orderId=t,this.getOrder(t)}},C=r(5727);const O=(0,C.Z)($,[["render",j]]);var Z=O}}]);
//# sourceMappingURL=689.69fead96.js.map