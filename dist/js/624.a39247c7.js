"use strict";(self["webpackChunkjs_shop"]=self["webpackChunkjs_shop"]||[]).push([[624],{1491:function(t,e,a){a.r(e),a.d(e,{default:function(){return V}});var s=a(3099),i=a(8317),o=a(5860),c=a(5235),l=a.p+"img/banner2.747280e2.jpg";const n=(0,s._)("img",{src:c,alt:"",style:{width:"250px",height:"250px"}},null,-1),r=(0,s._)("section",{class:"banner"},[(0,s._)("img",{src:l,alt:""}),(0,s._)("h2",null,"商品列表")],-1),p={class:"mainList"},d={class:"container"},g={class:"row"},h={class:"col-md-3"},u={class:"typeList"},w=["onClick"],_={class:"col-md-9"},m={class:"row keywordBox"},y={class:"input-group"},k={class:"row listBox"},v=["onClick"],C={class:"imgBox"},b=["src"],P={class:"card-body"},x={class:"card-title"},f={class:"card-text"},L={class:"priceBox"},D=["onClick"],M={key:0,class:"col-md-4"},T=(0,s._)("div",{class:"emptyCard"},[(0,s._)("h5",{class:"card-title"},"沒有商品"),(0,s._)("p",{class:"card-text"},[(0,s.Uk)(" 暫時沒有搜尋的商品"),(0,s._)("br"),(0,s.Uk)("請重新搜尋 ")])],-1),j=[T],U={class:"row"},z={class:"col-md-12"};function N(t,e,a,c,l,T){const N=(0,s.up)("LoadingPage"),$=(0,s.up)("UserPageList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(N,{active:l.isLoading,opacity:.9,"background-color":"#fff"},{default:(0,s.w5)((()=>[n])),_:1},8,["active","opacity"]),r,(0,s._)("section",p,[(0,s._)("div",d,[(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.typeList,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,i.C_)({active:t.id==l.searchList.type}),onClick:(0,o.iM)((e=>T.chooseItem(t.id)),["prevent"])},[(0,s._)("h5",null,(0,i.zw)(t.text),1)],10,w)))),128))])]),(0,s._)("div",_,[(0,s._)("div",m,[(0,s._)("div",y,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"關鍵字搜尋","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":e[0]||(e[0]=t=>l.keyword=t)},null,512),[[o.nr,l.keyword]]),(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:e[1]||(e[1]=(0,o.iM)(((...t)=>T.search&&T.search(...t)),["prevent"]))}," 搜尋 "),(0,s._)("button",{class:"btn btn-secondary",type:"button",onClick:e[2]||(e[2]=(0,o.iM)(((...t)=>T.empty&&T.empty(...t)),["prevent"]))}," 清除 ")])]),(0,s._)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(T.pageDetail,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-md-4",key:t.id},[(0,s._)("div",{class:"card",onClick:(0,o.iM)((e=>T.getProductDetail(t.id)),["prevent"])},[(0,s._)("div",C,[(0,s._)("img",{src:t.imageUrl,class:"card-img-top",alt:""},null,8,b)]),(0,s._)("div",P,[(0,s._)("h5",x,(0,i.zw)(t.title),1),(0,s._)("p",f,(0,i.zw)(t.description),1),(0,s._)("div",L,[(0,s._)("p",null,"特價NT$ "+(0,i.zw)(t.price),1)]),(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:(0,o.iM)((e=>T.addCart(t.id)),["stop"])}," 加入購物車 ",8,D)])],8,v)])))),128)),0==l.typeProducts.length?((0,s.wg)(),(0,s.iD)("div",M,j)):(0,s.kq)("",!0)]),(0,s._)("div",U,[(0,s._)("div",z,[(0,s.Wm)($,{num:l.pageTotal,"now-Page":l.page,onNewpage:T.resetPage},null,8,["num","now-Page","onNewpage"])])])])])])])],64)}a(7658);const $={class:"pagination",id:"pageid"},B=["data-page"],H=["data-page","onClick"],Y=["data-page"];function K(t,e,a,c,l,n){return(0,s.wg)(),(0,s.iD)("ul",$,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!n.hasPage}])},[(0,s._)("a",{class:"page-link",href:"#","data-page":a.nowPage-1,onClick:e[0]||(e[0]=(0,o.iM)((t=>n.pageChange(a.nowPage-1)),["prevent"]))}," 上一頁 ",8,B)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.num,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:t===a.nowPage}]),key:t},[(0,s._)("a",{class:"page-link",href:"#","data-page":t,onClick:(0,o.iM)((e=>n.pageChange(t)),["prevent"])},(0,i.zw)(t),9,H)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!n.hasNext}])},[(0,s._)("a",{class:"page-link",href:"#","data-page":a.nowPage+1,onClick:e[1]||(e[1]=(0,o.iM)((t=>n.pageChange(a.nowPage+1)),["prevent"]))}," 下一頁 ",8,Y)],2)])}var q={props:["num","nowPage"],methods:{pageChange(t){this.$emit("newpage",t),window.scrollTo({top:0,left:0,behavior:"smooth"})}},computed:{hasPage(){return this.nowPage>1},hasNext(){return this.nowPage<this.num}}},E=a(5727);const I=(0,E.Z)(q,[["render",K]]);var W=I,Z={props:["id"],components:{UserPageList:W},data(){return{typeList:[{id:"all",text:"全部商品"},{id:"hot",text:"潮流專區"},{id:"joint",text:"最新聯名"},{id:"Tshirt",text:"運動用品"},{id:"sunscreen",text:"防曬系列"},{id:"3C",text:"3C行動裝置"},{id:"phoneCase",text:"寶可夢手機殼"}],keyword:null,searchList:{word:null,type:null},products:[],typeProducts:[],page:null,pageTotal:0,perpage:12,isLoading:!1}},methods:{getProducts(t){const e="https://vue3-course-api.hexschool.io/api/jysing-aip/products/all";this.isLoading=!0,this.axios.get(e).then((e=>{this.products=e.data.products,this.calc(e.data.products.length),this.page=1,this.searchList.type=t,this.isLoading=!1}))},calc(t){const e=this.perpage;this.pageTotal=Math.ceil(t/e)},resetPage(t){this.page=t},getProductDetail(t){this.$router.push(`/product/${t}`)},chooseItem(t){this.searchList.type=t},search(){this.searchList.word=this.keyword},empty(){this.searchList.word=null,this.keyword=null},addCart(t){const e="https://vue3-course-api.hexschool.io/api/jysing-aip/cart",a={data:{product_id:t,qty:1}};this.axios.post(e,a).then((t=>{console.log(t)}))}},watch:{searchList:{handler(t){const e=t.type,a=[],s=t.word;let i=null;this.products.forEach((t=>{("all"===e||t.category===e)&&a.push(t)})),i=null!==s?a.filter((t=>t.title.match(s))):a,this.calc(i.length),this.typeProducts=i,this.page=1},deep:!0}},computed:{pageDetail(){const t=this.pageTotal,e=this.perpage;let a=this.page;a>t&&(a=t);const s=a*e-e+1,i=a*e,o=[];return this.typeProducts.forEach(((t,e)=>{const a=e+1;a>=s&&a<=i&&o.push(t)})),o}},created(){const{id:t}=this.$route.params;this.getProducts(t)}};const R=(0,E.Z)(Z,[["render",N]]);var V=R},5235:function(t,e,a){t.exports=a.p+"img/pika.e962e5b1.gif"}}]);
//# sourceMappingURL=624.a39247c7.js.map