"use strict";(self["webpackChunkjs_shop"]=self["webpackChunkjs_shop"]||[]).push([[811],{5314:function(t,a,i){var s=i(4334),e=i(9554);a["Z"]=(0,s.Q_)("cartStore",{state:()=>({cartList:[],total:null,final_total:null,totalNum:0,isLoading:!1,btnStatus:!1}),actions:{getCartList(){const t="https://vue3-course-api.hexschool.io/api/jysing-aip/cart";this.isLoading=!0,e.ZP.get(t).then((t=>{this.cartList=t.data.data.carts,this.total=t.data.data.total,this.final_total=t.data.data.final_total,this.totalNum=t.data.data.carts.length,this.isLoading=!1}))},addCart(t,a=1){const i="https://vue3-course-api.hexschool.io/api/jysing-aip/cart",s={data:{product_id:t,qty:a}};e.ZP.post(i,s).then((t=>{this.getCartList()}))},removeItem(t){const a=`https://vue3-course-api.hexschool.io/api/jysing-aip/cart/${t}`;e.ZP["delete"](a).then((t=>{this.getCartList()}))},cleanAll(){const t="https://vue3-course-api.hexschool.io/api/jysing-aip/carts";e.ZP["delete"](t).then((t=>{this.getCartList()}))},updateCart(t,a){this.btnStatus=!0;let{id:i,qty:s,product_id:o}=t;!0===a?s+=1:s-=1;const l={product_id:o,qty:s},n=`https://vue3-course-api.hexschool.io/api/jysing-aip/cart/${i}`;e.ZP.put(n,{data:l}).then((t=>{this.btnStatus=!1,this.getCartList()}))}}})},7364:function(t,a,i){i.d(a,{Z:function(){return c}});var s=i(3099);const e=["src"];function o(t,a,i,o,l,n){const r=(0,s.up)("LoadingPage");return(0,s.wg)(),(0,s.j4)(r,{active:i.loadStatus,opacity:.9,"background-color":"#fff"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:l.img,alt:"",style:{width:"250px",height:"250px"}},null,8,e)])),_:1},8,["active","opacity"])}var l={props:["loadStatus"],data(){return{img:"./assets/images/pokemon/pika.gif"}}},n=i(5727);const r=(0,n.Z)(l,[["render",o]]);var c=r},3811:function(t,a,i){i.r(a),i.d(a,{default:function(){return Y}});var s=i(3099),e=i(8317),o=i(5860);const l={class:"mainProduct"},n={class:"container-lg"},r={class:"mainBox"},c={key:0,class:"row"},d={class:"col-md-7"},u={class:"imgBox"},p=["src"],g={class:"col-md-5"},h={class:"detailBox"},_={class:"orginPrice"},m={class:"addBox"},v={class:"unitBox"},w=(0,s._)("p",null,"-",-1),y=[w],f={class:"unitText"},k=(0,s._)("p",null,"+",-1),b=[k],C=(0,s._)("h5",null,"加入購物車",-1),P=[C],x={key:0,class:"detailText"},L=(0,s._)("h4",null,"商品特色",-1),q={key:1,class:"mayProduct"},Z=(0,s._)("h4",null,"推薦商品",-1),S=["onClick"],j={class:"moreImg"},B=["src","alt"],z=(0,s._)("span",null,"查看更多",-1);function D(t,a,i,w,k,C){const D=(0,s.up)("LoadingImg"),$=(0,s.up)("swiper-slide"),I=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(D,{loadStatus:t.isLoading},null,8,["loadStatus"]),(0,s._)("section",l,[(0,s._)("div",n,[(0,s._)("div",r,[null!==t.product?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("img",{src:t.product.imageUrl,alt:"product.title"},null,8,p)])]),(0,s._)("div",g,[(0,s._)("div",h,[(0,s._)("h3",null,(0,e.zw)(t.product.title),1),(0,s._)("div",_,[(0,s._)("p",null,"原價: NT$"+(0,e.zw)(t.product.origin_price),1)]),(0,s._)("h4",null,"特價: NT$"+(0,e.zw)(t.product.price),1)]),(0,s._)("div",m,[(0,s._)("div",v,[(0,s._)("button",(0,s.dG)({type:"button",class:"btn remove"},{disabled:k.product_qty<=1},{onClick:a[0]||(a[0]=(0,o.iM)((t=>C.updateCart(!1)),["prevent"]))}),y,16),(0,s._)("div",f,[(0,s._)("p",null,(0,e.zw)(k.product_qty),1)]),(0,s._)("button",{type:"button",class:"btn add",onClick:a[1]||(a[1]=(0,o.iM)((t=>C.updateCart(!0)),["prevent"]))},b)]),(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:a[2]||(a[2]=(0,o.iM)((a=>t.addCart(t.product.id,k.product_qty)),["prevent"]))},P)])])])):(0,s.kq)("",!0)]),null!==t.product?((0,s.wg)(),(0,s.iD)("div",x,[L,(0,s._)("p",null,(0,e.zw)(t.product.content),1)])):(0,s.kq)("",!0),t.moreProducts.length>=3?((0,s.wg)(),(0,s.iD)("div",q,[Z,(0,s.Wm)(I,{navigation:!0,modules:k.modules,"space-between":10,"slides-per-view":3,loop:!0,breakpoints:{414:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:30}},class:"mySwiper"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.moreProducts,(a=>((0,s.wg)(),(0,s.j4)($,{key:a.id},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"imgBox",onClick:(0,o.iM)((i=>t.getProduct(a.id)),["prevent"])},[(0,s._)("div",j,[(0,s._)("img",{src:a.imageUrl,alt:a.title},null,8,B),z]),(0,s._)("p",null,(0,e.zw)(a.title),1)],8,S)])),_:2},1024)))),128))])),_:1},8,["modules"])])):(0,s.kq)("",!0)])])],64)}var $=i(7364),I=i(195),M=i(8150),N=i(6311),T=i(5314),W=i(4334),H={props:["id"],components:{LoadingImg:$.Z,Swiper:I.tq,SwiperSlide:I.o5},data(){return{product_qty:1,modules:[M.W_]}},computed:{...(0,W.rn)(N.Z,["product","moreProducts","isLoading"])},methods:{...(0,W.nv)(T.Z,["addCart"]),...(0,W.nv)(N.Z,["getProduct"]),updateCart(t){!0===t?this.product_qty+=1:this.product_qty-=1}},created(){const{id:t}=this.$route.params;this.getProduct(t)}},U=i(5727);const V=(0,U.Z)(H,[["render",D]]);var Y=V}}]);
//# sourceMappingURL=811.360ab65a.js.map