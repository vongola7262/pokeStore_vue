"use strict";(self["webpackChunkjs_shop"]=self["webpackChunkjs_shop"]||[]).push([[875],{5291:function(t,e,a){a.d(e,{Z:function(){return p}});var s=a(3099),i=a(8317);const n={class:"banner"},o=["src"];function l(t,e,a,l,r,c){return(0,s.wg)(),(0,s.iD)("section",n,[(0,s._)("img",{src:a.banner.img,alt:""},null,8,o),(0,s._)("h2",null,(0,i.zw)(a.banner.title),1)])}var r={props:["banner"]},c=a(5727);const d=(0,c.Z)(r,[["render",l]]);var p=d},7364:function(t,e,a){a.d(e,{Z:function(){return c}});var s=a(3099);const i=["src"];function n(t,e,a,n,o,l){const r=(0,s.up)("LoadingPage");return(0,s.wg)(),(0,s.j4)(r,{active:a.loadStatus,opacity:.9,"background-color":"#fff"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:o.img,alt:"",style:{width:"250px",height:"250px"}},null,8,i)])),_:1},8,["active","opacity"])}var o={props:["loadStatus"],data(){return{img:"./assets/images/pokemon/pika.gif"}}},l=a(5727);const r=(0,l.Z)(o,[["render",n]]);var c=r},3981:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(3099),i=a(8317),n=a(5860);const o={key:0,class:"pagination",id:"pageid"},l=["data-page"],r=["data-page","onClick"],c=["data-page"];function d(t,e,a,d,p,u){return 0!==a.num?((0,s.wg)(),(0,s.iD)("ul",o,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!u.hasPage}])},[(0,s._)("a",{class:"page-link",href:"#","data-page":a.nowPage-1,onClick:e[0]||(e[0]=(0,n.iM)((t=>u.pageChange(a.nowPage-1)),["prevent"]))}," 上一頁 ",8,l)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.num,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:t===a.nowPage}]),key:t},[(0,s._)("a",{class:"page-link",href:"#","data-page":t,onClick:(0,n.iM)((e=>u.pageChange(t)),["prevent"])},(0,i.zw)(t),9,r)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!u.hasNext}])},[(0,s._)("a",{class:"page-link",href:"#","data-page":a.nowPage+1,onClick:e[1]||(e[1]=(0,n.iM)((t=>u.pageChange(a.nowPage+1)),["prevent"]))}," 下一頁 ",8,c)],2)])):(0,s.kq)("",!0)}var p={props:["num","nowPage"],methods:{pageChange(t){this.$emit("newpage",t),window.scrollTo({top:0,left:0,behavior:"smooth"})}},computed:{hasPage(){return this.nowPage>1},hasNext(){return this.nowPage<this.num}}},u=a(5727);const g=(0,u.Z)(p,[["render",d]]);var h=g},1875:function(t,e,a){a.r(e),a.d(e,{default:function(){return H}});var s=a(3099),i=a(5860),n=a(8317);const o={class:"mainList"},l={class:"container-md"},r={class:"row keywordBox"},c={class:"input-group"},d={class:"row"},p={class:"col-md-3"},u={class:"typeList"},g=["onClick"],h={class:"col-md-9"},w={class:"row listBox"},m=["onClick"],_={class:"imgBox"},v=["src"],y={class:"card-body"},k={class:"textBox"},b={class:"card-title"},C={class:"btnBox"},f=["onClick"],P=(0,s._)("p",null,"加入購物車",-1),x=[P],L={key:0,class:"col-md-4"},D=(0,s._)("div",{class:"emptyCard"},[(0,s._)("h5",{class:"card-title"},"沒有商品"),(0,s._)("p",{class:"card-text"},[(0,s.Uk)(" 暫時沒有搜尋的商品"),(0,s._)("br"),(0,s.Uk)("請重新搜尋 ")])],-1),Z=[D],M={class:"row"},j={class:"col-md-12"};function B(t,e,a,P,D,B){const T=(0,s.up)("LoadingImg"),I=(0,s.up)("BannerImg"),U=(0,s.up)("UserPageList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(T,{loadStatus:D.isLoading},null,8,["loadStatus"]),(0,s.Wm)(I,{banner:D.bannerDetail},null,8,["banner"]),(0,s._)("section",o,[(0,s._)("div",l,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"關鍵字搜尋","onUpdate:modelValue":e[0]||(e[0]=t=>D.keyword=t)},null,512),[[i.nr,D.keyword]]),(0,s._)("button",{class:"btn btn-search",type:"button",onClick:e[1]||(e[1]=(0,i.iM)((t=>B.search(!0)),["prevent"]))}," 搜尋 "),(0,s._)("button",{class:"btn btn-clean",type:"button",onClick:e[2]||(e[2]=(0,i.iM)((t=>B.search(!1)),["prevent"]))}," 清除 ")])]),(0,s._)("div",d,[(0,s._)("div",p,[(0,s._)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.typeList,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,n.C_)({active:t.id==D.searchList.type}),onClick:(0,i.iM)((e=>B.chooseItem(t.id)),["prevent"])},[(0,s._)("h5",null,(0,n.zw)(t.text),1)],10,g)))),128))])]),(0,s._)("div",h,[(0,s._)("div",w,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(B.pageDetail,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-sm-6 col-lg-4 listlayout",key:t.id},[(0,s._)("div",{class:"card",onClick:(0,i.iM)((e=>B.getProductDetail(t.id)),["prevent"])},[(0,s._)("div",_,[(0,s._)("img",{src:t.imageUrl,class:"card-img-top",alt:""},null,8,v)]),(0,s._)("div",y,[(0,s._)("div",k,[(0,s._)("h5",b,(0,n.zw)(t.title),1),(0,s._)("p",null,"特價NT$ "+(0,n.zw)(t.price),1)]),(0,s._)("div",C,[(0,s._)("button",{type:"button",class:"btn btn-addCart",onClick:(0,i.iM)((e=>B.addCart(t.id)),["stop"])},x,8,f)])])],8,m)])))),128)),0==D.typeProducts.length?((0,s.wg)(),(0,s.iD)("div",L,Z)):(0,s.kq)("",!0)]),(0,s._)("div",M,[(0,s._)("div",j,[(0,s.Wm)(U,{num:D.pageTotal,"now-Page":D.page,onNewpage:B.resetPage},null,8,["num","now-Page","onNewpage"])])])])])])])],64)}a(7658);var T=a(3981),I=a(7364),U=a(5291),z={props:["id"],components:{UserPageList:T.Z,LoadingImg:I.Z,BannerImg:U.Z},data(){return{bannerDetail:{title:"商品列表",img:"./assets/images/banner/banner2.jpg"},typeList:[{id:"all",text:"全部商品"},{id:"hot",text:"潮流專區"},{id:"joint",text:"最新聯名"},{id:"Tshirt",text:"運動用品"},{id:"sunscreen",text:"防曬系列"},{id:"3C",text:"3C行動裝置"},{id:"phoneCase",text:"寶可夢手機殼"}],keyword:null,searchList:{products:[],word:null,type:null},typeProducts:[],page:null,pageTotal:0,perpage:12,isLoading:!1}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/jysing-aip/products/all";this.isLoading=!0,this.axios.get(t).then((t=>{this.searchList.products=t.data.products,this.isLoading=!1}))},calc(t){const e=this.perpage;this.pageTotal=Math.ceil(t/e)},resetPage(t){this.page=t},getProductDetail(t){this.$router.push(`/product/${t}`)},chooseItem(t){this.searchList.type=t},search(t){!0===t?this.searchList.word=this.keyword:(this.searchList.word=null,this.keyword=null)},addCart(t){const e="https://vue3-course-api.hexschool.io/api/jysing-aip/cart",a={data:{product_id:t,qty:1}};this.axios.post(e,a).then((t=>{console.log(t)}))}},watch:{searchList:{handler(t){const e=t.type,a=[],s=t.word,i=t.products;let n=null;i.forEach((t=>{("all"===e||t.category===e)&&a.push(t)})),n=null!==s?a.filter((t=>t.title.match(s))):a,this.calc(n.length),this.typeProducts=n,this.page=1},deep:!0}},computed:{pageDetail(){const t=this.pageTotal,e=this.perpage;let a=this.page;a>t&&(a=t);const s=a*e-e+1,i=a*e,n=[];return this.typeProducts.forEach(((t,e)=>{const a=e+1;a>=s&&a<=i&&n.push(t)})),n}},created(){this.searchList.type=this.$route.params.id,this.getProducts()}},N=a(5727);const $=(0,N.Z)(z,[["render",B]]);var H=$}}]);
//# sourceMappingURL=875.0da177e4.js.map