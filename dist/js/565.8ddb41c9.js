"use strict";(self["webpackChunkjs_shop"]=self["webpackChunkjs_shop"]||[]).push([[565],{7364:function(t,o,i){i.d(o,{Z:function(){return n}});var s=i(3099);const e=["src"];function a(t,o,i,a,l,c){const r=(0,s.up)("LoadingPage");return(0,s.wg)(),(0,s.j4)(r,{active:i.loadStatus,opacity:.9,"background-color":"#fff"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:l.img,alt:"",style:{width:"250px",height:"250px"}},null,8,e)])),_:1},8,["active","opacity"])}var l={props:["loadStatus"],data(){return{img:"./assets/images/pokemon/pika.gif"}}},c=i(5727);const r=(0,c.Z)(l,[["render",a]]);var n=r},8565:function(t,o,i){i.r(o),i.d(o,{default:function(){return N}});var s=i(3099),e=i(8317),a=i(5860);const l={class:"mainProduct"},c={class:"container-lg"},r={class:"mainBox"},n={key:0,class:"row"},d={class:"col-md-7"},u={class:"imgBox"},p=["src"],g={class:"col-md-5"},_={class:"detailBox"},h={class:"orginPrice"},m={class:"addBox"},v={class:"unitBox"},w=(0,s._)("p",null,"-",-1),y=[w],k={class:"unitText"},f=(0,s._)("p",null,"+",-1),b=[f],x=(0,s._)("h5",null,"加入購物車",-1),P=[x],C={key:0,class:"detailText"},q=(0,s._)("h4",null,"商品特色",-1),B={key:1,class:"mayProduct"},S=(0,s._)("h4",null,"推薦商品",-1),j=["onClick"],L={class:"moreImg"},z=["src","alt"],D=(0,s._)("span",null,"查看更多",-1);function T(t,o,i,w,f,x){const T=(0,s.up)("LoadingImg"),M=(0,s.up)("swiper-slide"),Z=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(T,{loadStatus:f.isLoading},null,8,["loadStatus"]),(0,s._)("section",l,[(0,s._)("div",c,[(0,s._)("div",r,[null!==f.product?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("img",{src:f.product.imageUrl,alt:"product.title"},null,8,p)])]),(0,s._)("div",g,[(0,s._)("div",_,[(0,s._)("h3",null,(0,e.zw)(f.product.title),1),(0,s._)("div",h,[(0,s._)("p",null,"原價: NT$"+(0,e.zw)(f.product.origin_price),1)]),(0,s._)("h4",null,"特價: NT$"+(0,e.zw)(f.product.price),1)]),(0,s._)("div",m,[(0,s._)("div",v,[(0,s._)("button",(0,s.dG)({type:"button",class:"btn remove"},{disabled:f.product_qty<=1},{onClick:o[0]||(o[0]=(0,a.iM)((t=>x.updateCart(!1)),["prevent"]))}),y,16),(0,s._)("div",k,[(0,s._)("p",null,(0,e.zw)(f.product_qty),1)]),(0,s._)("button",{type:"button",class:"btn add",onClick:o[1]||(o[1]=(0,a.iM)((t=>x.updateCart(!0)),["prevent"]))},b)]),(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:o[2]||(o[2]=(0,a.iM)((t=>x.addCart()),["prevent"]))},P)])])])):(0,s.kq)("",!0)]),null!==f.product?((0,s.wg)(),(0,s.iD)("div",C,[q,(0,s._)("p",null,(0,e.zw)(f.product.content),1)])):(0,s.kq)("",!0),0!==f.moreProducts.length?((0,s.wg)(),(0,s.iD)("div",B,[S,(0,s.Wm)(Z,{navigation:!0,modules:f.modules,"space-between":10,"slides-per-view":1,loop:!0,breakpoints:{414:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:30}},class:"mySwiper"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.moreProducts,(t=>((0,s.wg)(),(0,s.j4)(M,{key:t.id},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"imgBox",onClick:(0,a.iM)((o=>x.getProduct(t.id)),["prevent"])},[(0,s._)("div",L,[(0,s._)("img",{src:t.imageUrl,alt:t.title},null,8,z),D]),(0,s._)("p",null,(0,e.zw)(t.title),1)],8,j)])),_:2},1024)))),128))])),_:1},8,["modules"])])):(0,s.kq)("",!0)])])],64)}i(7658);var M=i(7364),Z=i(195),$=i(8150),I={props:["id"],components:{LoadingImg:M.Z,Swiper:Z.tq,SwiperSlide:Z.o5},data(){return{product:null,moreProducts:[],product_qty:1,isLoading:!1,modules:[$.W_]}},methods:{getProduct(t){this.isLoading=!0;const o=this.axios,i=`https://vue3-course-api.hexschool.io/api/jysing-aip/product/${t}`,s="https://vue3-course-api.hexschool.io/api/jysing-aip/products/all";function e(t){return o.get(t)}this.axios.all([e(i),e(s)]).then((t=>{const o=t[0];this.product=o.data.product;const i=t[1].data.products,{category:s,id:e}=o.data.product,a=[];i.forEach((t=>{t.category===s&&t.id!==e&&a.push(t)})),this.moreProducts=a,this.isLoading=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}))},updateCart(t){!0===t?this.product_qty+=1:this.product_qty-=1},addCart(){const t="https://vue3-course-api.hexschool.io/api/jysing-aip/cart",o={data:{product_id:this.product.id,qty:this.product_qty}};this.axios.post(t,o).then((t=>{console.log(t)}))}},created(){const{id:t}=this.$route.params;this.getProduct(t)}},W=i(5727);const H=(0,W.Z)(I,[["render",T]]);var N=H}}]);
//# sourceMappingURL=565.8ddb41c9.js.map