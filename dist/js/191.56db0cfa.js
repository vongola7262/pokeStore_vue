"use strict";(self["webpackChunkjs_shop"]=self["webpackChunkjs_shop"]||[]).push([[191],{5291:function(t,e,a){a.d(e,{Z:function(){return d}});var s=a(3099),i=a(8317);const n={class:"banner"},o=["src"];function r(t,e,a,r,l,c){return(0,s.wg)(),(0,s.iD)("section",n,[(0,s._)("img",{src:a.banner.img,alt:""},null,8,o),(0,s._)("h2",null,(0,i.zw)(a.banner.title),1)])}var l={props:["banner"]},c=a(5727);const p=(0,c.Z)(l,[["render",r]]);var d=p},7364:function(t,e,a){a.d(e,{Z:function(){return c}});var s=a(3099);const i=["src"];function n(t,e,a,n,o,r){const l=(0,s.up)("LoadingPage");return(0,s.wg)(),(0,s.j4)(l,{active:a.loadStatus,opacity:.9,"background-color":"#fff"},{default:(0,s.w5)((()=>[(0,s._)("img",{src:o.img,alt:"",style:{width:"250px",height:"250px"}},null,8,i)])),_:1},8,["active","opacity"])}var o={props:["loadStatus"],data(){return{img:"./assets/images/pokemon/pika.gif"}}},r=a(5727);const l=(0,r.Z)(o,[["render",n]]);var c=l},4685:function(t,e,a){a.d(e,{Z:function(){return h}});var s=a(3099),i=a(8317),n=a(5860);const o={class:"pagination",id:"pageid"},r=["data-page"],l=["data-page","onClick"],c=["data-page"];function p(t,e,a,p,d,g){return(0,s.wg)(),(0,s.iD)("ul",o,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!g.hasPage}])},[(0,s._)("a",{class:"page-link",href:"#","data-page":a.nowPage-1,onClick:e[0]||(e[0]=(0,n.iM)((t=>g.pageChange(a.nowPage-1)),["prevent"]))}," 上一頁 ",8,r)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.num,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:t===a.nowPage}]),key:t},[(0,s._)("a",{class:"page-link",href:"#","data-page":t,onClick:(0,n.iM)((e=>g.pageChange(t)),["prevent"])},(0,i.zw)(t),9,l)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!g.hasNext}])},[(0,s._)("a",{class:"page-link",href:"#","data-page":a.nowPage+1,onClick:e[1]||(e[1]=(0,n.iM)((t=>g.pageChange(a.nowPage+1)),["prevent"]))}," 下一頁 ",8,c)],2)])}var d={props:["num","nowPage"],methods:{pageChange(t){this.$emit("newpage",t),window.scrollTo({top:0,left:0,behavior:"smooth"})}},computed:{hasPage(){return this.nowPage>1},hasNext(){return this.nowPage<this.num}}},g=a(5727);const u=(0,g.Z)(d,[["render",p]]);var h=u},191:function(t,e,a){a.r(e),a.d(e,{default:function(){return N}});var s=a(3099),i=a(5860),n=a(8317);const o={class:"mainList"},r={class:"container"},l={class:"row keywordBox"},c={class:"input-group"},p={class:"row"},d={class:"col-md-3"},g={class:"typeList"},u=["onClick"],h={class:"col-md-9"},m={class:"row listBox"},w=["onClick"],_={class:"imgBox"},y=["src"],v={class:"card-body"},k={class:"card-title"},b={class:"card-text"},f={class:"priceBox"},C=["onClick"],P={key:0,class:"col-md-4"},x=(0,s._)("div",{class:"emptyCard"},[(0,s._)("h5",{class:"card-title"},"沒有商品"),(0,s._)("p",{class:"card-text"},[(0,s.Uk)(" 暫時沒有搜尋的商品"),(0,s._)("br"),(0,s.Uk)("請重新搜尋 ")])],-1),L=[x],D={class:"row"},Z={class:"col-md-12"};function M(t,e,a,x,M,j){const T=(0,s.up)("LoadingImg"),z=(0,s.up)("BannerImg"),B=(0,s.up)("UserPageList");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(T,{loadStatus:M.isLoading},null,8,["loadStatus"]),(0,s.Wm)(z,{banner:M.bannerDetail},null,8,["banner"]),(0,s._)("section",o,[(0,s._)("div",r,[(0,s._)("div",l,[(0,s._)("div",c,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",placeholder:"關鍵字搜尋","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":e[0]||(e[0]=t=>M.keyword=t)},null,512),[[i.nr,M.keyword]]),(0,s._)("button",{class:"btn btn-primary",type:"button",onClick:e[1]||(e[1]=(0,i.iM)(((...t)=>j.search&&j.search(...t)),["prevent"]))}," 搜尋 "),(0,s._)("button",{class:"btn btn-secondary",type:"button",onClick:e[2]||(e[2]=(0,i.iM)(((...t)=>j.empty&&j.empty(...t)),["prevent"]))}," 清除 ")])]),(0,s._)("div",p,[(0,s._)("div",d,[(0,s._)("ul",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.typeList,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e,class:(0,n.C_)({active:t.id==M.searchList.type}),onClick:(0,i.iM)((e=>j.chooseItem(t.id)),["prevent"])},[(0,s._)("h5",null,(0,n.zw)(t.text),1)],10,u)))),128))])]),(0,s._)("div",h,[(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(j.pageDetail,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"col-sm-6 col-lg-4",key:t.id},[(0,s._)("div",{class:"card",onClick:(0,i.iM)((e=>j.getProductDetail(t.id)),["prevent"])},[(0,s._)("div",_,[(0,s._)("img",{src:t.imageUrl,class:"card-img-top",alt:""},null,8,y)]),(0,s._)("div",v,[(0,s._)("h5",k,(0,n.zw)(t.title),1),(0,s._)("p",b,(0,n.zw)(t.description),1),(0,s._)("div",f,[(0,s._)("p",null,"特價NT$ "+(0,n.zw)(t.price),1)]),(0,s._)("button",{type:"button",class:"btn btn-primary",onClick:(0,i.iM)((e=>j.addCart(t.id)),["stop"])}," 加入購物車 ",8,C)])],8,w)])))),128)),0==M.typeProducts.length?((0,s.wg)(),(0,s.iD)("div",P,L)):(0,s.kq)("",!0)]),(0,s._)("div",D,[(0,s._)("div",Z,[(0,s.Wm)(B,{num:M.pageTotal,"now-Page":M.page,onNewpage:j.resetPage},null,8,["num","now-Page","onNewpage"])])])])])])])],64)}a(7658);var j=a(4685),T=a(7364),z=a(5291),B={props:["id"],components:{UserPageList:j.Z,LoadingImg:T.Z,BannerImg:z.Z},data(){return{bannerDetail:{title:"商品列表",img:"./assets/images/banner/banner2.jpg"},typeList:[{id:"all",text:"全部商品"},{id:"hot",text:"潮流專區"},{id:"joint",text:"最新聯名"},{id:"Tshirt",text:"運動用品"},{id:"sunscreen",text:"防曬系列"},{id:"3C",text:"3C行動裝置"},{id:"phoneCase",text:"寶可夢手機殼"}],keyword:null,searchList:{word:null,type:null},products:[],typeProducts:[],page:null,pageTotal:0,perpage:12,isLoading:!1}},methods:{getProducts(t){const e="https://vue3-course-api.hexschool.io/api/jysing-aip/products/all";this.isLoading=!0,this.axios.get(e).then((e=>{this.products=e.data.products,this.calc(e.data.products.length),this.page=1,this.searchList.type=t,this.isLoading=!1}))},calc(t){const e=this.perpage;this.pageTotal=Math.ceil(t/e)},resetPage(t){this.page=t},getProductDetail(t){this.$router.push(`/product/${t}`)},chooseItem(t){this.searchList.type=t},search(){this.searchList.word=this.keyword},empty(){this.searchList.word=null,this.keyword=null},addCart(t){const e="https://vue3-course-api.hexschool.io/api/jysing-aip/cart",a={data:{product_id:t,qty:1}};this.axios.post(e,a).then((t=>{console.log(t)}))}},watch:{searchList:{handler(t){const e=t.type,a=[],s=t.word;let i=null;this.products.forEach((t=>{("all"===e||t.category===e)&&a.push(t)})),i=null!==s?a.filter((t=>t.title.match(s))):a,this.calc(i.length),this.typeProducts=i,this.page=1},deep:!0}},computed:{pageDetail(){const t=this.pageTotal,e=this.perpage;let a=this.page;a>t&&(a=t);const s=a*e-e+1,i=a*e,n=[];return this.typeProducts.forEach(((t,e)=>{const a=e+1;a>=s&&a<=i&&n.push(t)})),n}},created(){const{id:t}=this.$route.params;this.getProducts(t)}},I=a(5727);const U=(0,I.Z)(B,[["render",M]]);var N=U}}]);
//# sourceMappingURL=191.56db0cfa.js.map